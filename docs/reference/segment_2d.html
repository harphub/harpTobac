<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>harp wrapper for tobac segmentation.segmentation_2d() function — segment_2d • harpTobac</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="harp wrapper for tobac segmentation.segmentation_2d() function — segment_2d"><meta property="og:description" content="harp wrapper for tobac segmentation.segmentation_2d() function"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">harpTobac</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/tracking_model_OLR.html">Track OLR features</a>
    </li>
    <li>
      <a href="../articles/tracking_seviri_brightness_temp.html">Track satellite brightness temperature</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/harphub/harpTobac/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>harp wrapper for tobac <code>segmentation.segmentation_2d()</code> function</h1>
    <small class="dont-index">Source: <a href="https://github.com/harphub/harpTobac/blob/HEAD/R/bindings.R" class="external-link"><code>R/bindings.R</code></a></small>
    <div class="hidden name"><code>segment_2d.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>harp wrapper for tobac <code>segmentation.segmentation_2d()</code> function</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">segment_2d</span><span class="op">(</span></span>
<span>  <span class="va">features</span>,</span>
<span>  <span class="va">field_data</span>,</span>
<span>  <span class="va">threshold</span>,</span>
<span>  data_col <span class="op">=</span> <span class="st">"gridded_data"</span>,</span>
<span>  dttm_col <span class="op">=</span> <span class="st">"valid_dttm"</span>,</span>
<span>  target <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"max"</span>, <span class="st">"min"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"watershed"</span>,</span>
<span>  max_distance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pbc_flag <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"h_dim1"</span>, <span class="st">"h_dim2"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  seed_3d_flag <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"column"</span>, <span class="st">"box"</span><span class="op">)</span>,</span>
<span>  statistic <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>features</dt>
<dd><p>A features data frame, as returned by
<code><a href="detect_features_multithreshold.html">detect_features_multithreshold()</a></code>.</p></dd>


<dt>field_data</dt>
<dd><p>A <code>harp_grid_df</code> data frame such as one returned by the
<em>harpIO</em> functions
<code><a href="https://rdrr.io/pkg/harpIO/man/read_grid.html" class="external-link">harpIO::read_grid()</a></code> with <code>data_frame = TRUE</code>, <code><a href="https://rdrr.io/pkg/harpIO/man/read_forecast.html" class="external-link">harpIO::read_forecast()</a></code>,
or <code><a href="https://rdrr.io/pkg/harpIO/man/read_analysis.html" class="external-link">harpIO::read_analysis()</a></code>.</p></dd>


<dt>threshold</dt>
<dd><p>Threshold for the watershedding field to be used for the
mask.</p></dd>


<dt>data_col</dt>
<dd><p>&lt;<code>tidy-select</code>&gt; The column in
<code>field_data</code> containing the fields to be used to detect features in. Should
be a <code>&lt;geolist&gt;</code> column. If the named column is not found in <code>field_data</code>,
but <code>field_data</code> contains 1 <code>&lt;geolist&gt;</code> column, that <code>&lt;geolist&gt;</code> column is
used.</p></dd>


<dt>dttm_col</dt>
<dd><p>&lt;<code>tidy-select</code>&gt; The column in
<code>field_data</code> containing the date-times to be used for the time dimension.
Can be numeric with units in Unix time (seconds since 1970-01-01 00:00:00),
or a <code>&lt;POSIXt&gt;</code>column. If the named column is not found in <code>field_data</code>,
but <code>field_data</code> contains 1 <code>&lt;POSIXt&gt;</code> column, that <code>&lt;POSIXt&gt;</code> column is
used.</p></dd>


<dt>target</dt>
<dd><p>Flag to determine if tracking is targeting minima or maxima in
the data. Should be "max" or "min". Default is "max".</p></dd>


<dt>level</dt>
<dd><p>Levels at which to seed the cells for the watershedding
algorithm. Default is <code>NULL</code>.</p></dd>


<dt>method</dt>
<dd><p>Flag determining the algorithm to use (currently only
"watershed" is implemented).</p></dd>


<dt>max_distance</dt>
<dd><p>Maximum distance from a marker allowed to be classified
as belonging to that cell in metres. Default is <code>NULL</code>.</p></dd>


<dt>pbc_flag</dt>
<dd><p>Sets whether to use periodic boundaries, and if so in which
directions. "none" means that we do not have periodic boundaries "hdim_1"
means that we are periodic along hdim1, "hdim_2" means that we are periodic
along hdim2 and "both" means that we are periodic along both horizontal
dimensions</p></dd>


<dt>seed_3d_flag</dt>
<dd><p>Seed 3D field at feature positions with either the full
column (default) or a box of user-set size.</p></dd>


<dt>statistic</dt>
<dd><p>Default is <code>NULL</code>. Parameter to calculate bulk statistics
within feature detection. Named list with callable function(s) to apply
over the region of each detected feature and the name of the statistics to
appear in the feature output data frame. The functions should be the values
and the names of the metric the keys (e.g. list(mean = np.mean)). This
probably doesn't work yet as there needs to be a translation between R and
Python functions here.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A named list with:</p><ul><li><p>segments: A data frame with a <code>geolist</code> column with 2d fields on the
same domain as the input data with integer values denoting each segment.</p></li>
<li><p>features: Feature data frame including the number of cells in the
segmented area of the feature at the time step.</p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andrew Singleton, Juan-Jesus Gonzalez.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

